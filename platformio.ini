[env:esp32-s3-devkitc-1]
platform = espressif32
board = esp32-s3-devkitc-1
framework = arduino

; --- PSRAM Configuration (Octal PSRAM) ---
; These settings enable and configure 8MB Octal PSRAM.
; Adjust 'flash_size' and 'maximum_size' based on your board's actual flash memory.
board_build.arduino.memory_type = qio_opi
board_build.flash_mode = qio
board_build.psram_type = opi
board_upload.flash_size = 16MB             ; Example: Adjust to your board's flash size (e.g., 4MB, 8MB, 16MB)
board_upload.maximum_size = 16777216       ; Corresponds to 16MB flash size (16 * 1024 * 1024)
board_build.partitions = default_16MB.csv  ; Use a partition table that accommodates larger flash if needed
lib_extra_dirs = Arduino/libraries
board_build.extra_flags =
    -DBOARD_HAS_PSRAM                      ; Define this flag to inform Arduino core about PSRAM presence

monitor_speed = 115200
monitor_filters = esp32_exception_decoder, time

; --- Build Flags ---
; LVGL configuration via build flags to avoid modifying lv_conf.h directly.
; Adjust LV_LOG_LEVEL as needed for debugging (TRACE, INFO, WARN, ERROR, NONE).
; The -I include flag is for project-specific headers, e.g., custom display configurations.
build_flags =
    -O2
    -D ARDUINO_USB_CDC_ON_BOOT=1
    -D ARDUINO_USB_MODE=1
    -D LV_COLOR_DEPTH=16
    -D LV_CONF_SKIP
    -D LV_CONF_INCLUDE_SIMPLE
    -D LV_FONT_MONTSERRAT_10=1
    -D LV_FONT_MONTSERRAT_12=1
    -D LV_FONT_MONTSERRAT_14=1
    -D LV_FONT_MONTSERRAT_20=1
    -D LV_USE_FONT_MONTSERRAT_28=1
    -D LV_USE_FONT_MONTSERRAT_24=1
    -D LV_USE_FONT_MONTSERRAT_16=1
    -D LV_FONT_MONTSERRAT_28=1
    -D LV_FONT_MONTSERRAT_24=1
    -D LV_FONT_MONTSERRAT_16=1
    -I include

; --- Library Dependencies ---
; Core ESP32 libraries like WiFi, Preferences, and HTTPClient are usually
; included with the Arduino framework for ESP32 and do not need explicit lib_deps.
lib_deps =
    lvgl/lvgl@^8.3.11
    moononournation/GFX Library for Arduino@1.3.7

    bblanchon/ArduinoJson@^6.21.3          ; ArduinoJson library
    tzapu/WiFiManager@^2.0.17              ; WiFiManager for Station + AP
    espressif/esp32-camera@^2.0.4          ; ESP32 Camera (pins need config)
    ; bitbank2/QRCode@^1.2.1               ; QR decoder (disabled, lib not found)
